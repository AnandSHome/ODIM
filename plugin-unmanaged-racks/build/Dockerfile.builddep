FROM golang:1.13.8

WORKDIR /ur-plugin/

COPY go.mod  /ur-plugin/
COPY go.sum  /ur-plugin/
COPY dphandler  /ur-plugin/dphandler
COPY dpmessagebus  /ur-plugin/dpmessagebus
COPY dpmiddleware  /ur-plugin/dpmiddleware
COPY dpmodel  /ur-plugin/dpmodel
COPY dpresponse  /ur-plugin/dpresponse
COPY dputilities  /ur-plugin/dputilities
COPY main.go /ur-plugin/
COPY config /ur-plugin/config
COPY build.sh /ur-plugin/

RUN ./build.sh
